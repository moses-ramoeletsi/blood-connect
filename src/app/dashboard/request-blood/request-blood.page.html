<ion-content [fullscreen]="true">
  <ion-app>
    <ion-menu contentId="main-content" side="start" menuId="first">
        <ion-toolbar class="menuContent">
          <img alt="blood Connect" src="../../../assets/images/bloodConnect.png" />
        </ion-toolbar>
    <ion-content class="content-padding" >
      <ion-list lines="none">
        <ion-item>
          <ion-label [routerLink]="['/request-blood']">Request Blood</ion-label>
        </ion-item>
        <ion-item>
          <ion-label [routerLink]="['/donate-blood']">Donate Blood</ion-label>
        </ion-item>
        <ion-item>
          <ion-label [routerLink]="['/blood-banks']">Blood Banks</ion-label>
        </ion-item>
      </ion-list>
      </ion-content>
    </ion-menu>
    <div class="ion-page" id="main-content">
      <ion-header>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <ion-toolbar class="myMenu">
          <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
          </ion-buttons>
          <ion-buttons slot="end">
            <ion-avatar >
              <ion-img  class="logo" alt="logo" src="../../../assets/images/bloodConnect.png"/>
            </ion-avatar>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding" *ngIf="!showNearByDonorContent">
        <ion-row>
          <ion-col size-md="12" class="ion-align-items-center">
            <div class="ion-text-start ion-text-center-md"> 
              <ion-buttons routerLink="/home" style="color: black;">
                <ion-icon name="chevron-back-outline"></ion-icon>
                <ion-label>Back</ion-label>
              </ion-buttons>
            </div>
            <div class="ion-text-end ion-text-center-md">
              <ion-button class="mycolor" (click)="toggleNearByDonorContent()">Near By Donor</ion-button>
            </div>
          </ion-col>
        </ion-row>
        <div class="selected-blood-groups ">
          <h2>Select Your Blood Group</h2>
          <ion-row class="ion-justify-content-center ion-align-items-center">
            <ion-col size-lg="3" size-md="6" size-sm="12" size="12" *ngFor="let bloodGroup of bloodGroups">
              <ion-card class="blood-group-card"  (click)="selectBloodGroup(bloodGroup)">
                <ion-row class="ion-align-items-center"> 
                  <ion-col size="12">
                    <ion-label class="blood-group-label">{{ bloodGroup }}</ion-label>
                  </ion-col>
                </ion-row>
              </ion-card>
            </ion-col>
          </ion-row>
        </div>
  
        <div *ngIf="selectedBloodGroup" class="selected-blood-group">
          <h2>Your Blood Type Match Donor </h2>
          <ion-card class="match-blood-group-card">
            <ion-row class="ion-align-items-center"> 
              <ion-col size="12" size-sm="6">
                <ion-avatar class="avatar">
                  <ion-label class="match-blood-group-label">{{ selectedBloodGroup }}</ion-label>
                </ion-avatar>
              </ion-col>
              <ion-col size="12" size-sm="6">
                <ion-label class="additional-info">
                  <p>Name: Moses</p>
                  <p>Phone Number: 5612 1920</p>
                  <p>Location: Qoaling, Maseru Lesotho </p>
                  <p>Distance: 10 km</p>
                </ion-label>
              </ion-col>
            </ion-row>
          </ion-card>   
        </div>
  
        <ion-fab slot="fixed" vertical="bottom" horizontal="end" class="ion-center-sm-down">
          <ion-fab-button id="open-modal">
            <ion-icon name="add"></ion-icon>
          </ion-fab-button>
        </ion-fab>

        <ion-modal [keepContentsMounted]="true" trigger="open-modal" #modal>
          <ng-template>
            <ion-header>
              <ion-toolbar>
                <ion-title class="ion-text-center">Request Boold </ion-title>
                <ion-buttons slot="end">
                  <ion-button (click)="modal.dismiss()">Cancel</ion-button>
                </ion-buttons>
              </ion-toolbar>
            </ion-header>
            <ion-content class="ion-padding"> 
              <form class="requestBlood-form" (ngSubmit)="submitForm()">
                <ion-input label="Name" name="name" [(ngModel)]="bloodRequetsForm.firstName" label-placement="floating" fill="outline" placeholder="Enter Name"></ion-input> <br>
                <ion-input label="Address" name="address" [(ngModel)]="bloodRequetsForm.address" label-placement="floating" fill="outline" placeholder="Enter Email"></ion-input> <br>
                <ion-input label="Phone Number" name="phoneNumber" [(ngModel)]="bloodRequetsForm.phoneNumber" label-placement="floating" fill="outline" placeholder="Enter Phone Number"></ion-input> <br>
                <ion-select label="Blood Group" name="bloodGroup" [(ngModel)]="bloodRequetsForm.bloodGroup" label-placement="floating" fill="outline">
                  <ion-select-option value="A+">A+</ion-select-option>
                  <ion-select-option value="B+">B+</ion-select-option>
                  <ion-select-option value="AB+">AB+</ion-select-option>
                  <ion-select-option value="O+">O+</ion-select-option>
                  <ion-select-option value="A-">A-</ion-select-option>
                  <ion-select-option value="B-">B-</ion-select-option>
                  <ion-select-option value="AB-">AB-</ion-select-option>
                  <ion-select-option value="O-">O-</ion-select-option>
                </ion-select><br>
                <ion-select label="Transfusion Type" name="transfusionType" [(ngModel)]="bloodRequetsForm.transfusionType" label-placement="floating" fill="outline">
                  <ion-select-option value="recipient">Recipient</ion-select-option>
                  <ion-select-option value="hospital">Hospital</ion-select-option>
                  <ion-select-option value="bloodBank">Blood Bank</ion-select-option>
                </ion-select><br>
                <!-- <ion-textarea label="Location" name="location" [(ngModel)]="bloodRequetsForm.location" label-placement="floating" fill="outline" placeholder="Your Location"></ion-textarea> <br> -->
                
                <ion-button class="mycolor" type="submit" expand="block">Submit</ion-button>
              </form>
              
            </ion-content>
          </ng-template>
        </ion-modal>
      </ion-content>

      <ion-content class="ion-padding" *ngIf="showNearByDonorContent" >
          <ion-buttons class="ion-col ion-text-start" (click)="toggleNearByDonorContent()" style="color: black;">
            <ion-icon name="chevron-back-outline"></ion-icon>
            <ion-label>Back</ion-label>
          </ion-buttons>
          <div class="donors">
            <h2>Near By Donors</h2>
            <ion-card class="match-donor-card">
              <ion-row> 
                <ion-col size="12" size-sm="6">
                  <ion-avatar class="match-donor-avatar">
                    <ion-label >{{ selectedBloodGroup }}</ion-label>
                  </ion-avatar>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col size="12" size-sm="6">
                  <ion-label class="match-donor-details">
                    <p>Name: Moses</p>
                    <p>Phone Number: 5612 1920</p>
                    <p>Location: Qoaling, Maseru Lesotho </p>
                    <p>Distance: 10 km</p>
                  </ion-label>
                </ion-col>
              </ion-row>
            </ion-card>   
          </div>
      </ion-content>
    </div>
  </ion-app>
</ion-content>
